# Python描述器(Descriptor)基础
---

## 什么是描述器

一般来讲，一个描述器是一个具有“绑定行为”的对象属性(object attribute)，它的访问控制被描述器协议方法重写。这些方法是 __get__(), __set__(), 和 __delete__() 。有这些方法的对象叫做描述器。

默认对属性的访问都是对对象的字典(\_\_dict\_\_)中操作，例如：a.x的查找就是：a.\_\_dict\_\_['x']，然后type(a).\_\_dict\_\_['x']，再type(a) 的父类(不包括元类(metaclass)). 

如果查找到的值是一个描述器, Python就会调用描述器的方法来重写默认的控制行为。这个重写发生在这个查找环节的哪里取决于定义了哪个描述器方法。注意, 只有在新式类中时描述器才会起作用。(新式类是继承自 type 或者 object 的类).

描述器正是属性, 实例方法, 静态方法, 类方法和 super 的背后的实现机制。

描述器方法的协议(Protocol)是这么定义的：
```
descr.__get__(self, obj, type=None) --> value
descr.__set__(self, obj, value) --> None
descr.__delete__(self, obj) --> None
```
所以拥有这些方法的任何一个的对象就是描述器。

如果一个对象同时定义了 __get__() 和 __set__(),它叫做**资料描述器(data descriptor)**。仅定义了 __get__() 的描述器叫**非资料描述器**(常用于方法，当然其他用途也是可以的).

资料描述器和非资料描述器的区别在于：相对于实例的字典的优先级。如果实例字典中有与描述器同名的属性，如果描述器是资料描述器，优先使用资料描述器，如果是非资料描述器，优先使用字典中的属性。


## to do

